import b from"./svg.daa31574.js";import{d as _,C,r as o,o as S,b as q,c as y,g as x,I as w,Y as L,F as H,e as l,$ as E}from"./entry.558da846.js";import"./usePaxparAPI.271643c1.js";import"./url.635def0a.js";import"./useToast.582151af.js";import"./fetch.c35376f1.js";import"./reftools.ee468adf.js";const V=l("h1",null,"Scroll example",-1),k=l("div",{class:"scroll-section"},[l("h1",null,"Lorem ipsum dolor sit amet"),l("p",null,"Nam sit amet vulputate magna. Curabitur molestie urna in auctor faucibus. Cras ut purus ac eros iaculis dapibus sit amet quis ante. Suspendisse potenti. Nulla mattis ut elit eget gravida. Nam fermentum et quam non mollis. Cras rhoncus consectetur arcu, in dictum est dictum ut. Nullam cursus lectus ac mi iaculis, eget tincidunt orci")],-1),P=E('<div class="scroll-section"><h1>Lorem ipsum dolor sit amet</h1><p>Nam sit amet vulputate magna. Curabitur molestie urna in auctor faucibus. Cras ut purus ac eros iaculis dapibus sit amet quis ante. Suspendisse potenti. Nulla mattis ut elit eget gravida. Nam fermentum et quam non mollis. Cras rhoncus consectetur arcu, in dictum est dictum ut. Nullam cursus lectus ac mi iaculis, eget tincidunt orci</p></div><div class="scroll-section"><h1>Lorem ipsum dolor sit amet</h1><p>Nam sit amet vulputate magna. Curabitur molestie urna in auctor faucibus. Cras ut purus ac eros iaculis dapibus sit amet quis ante. Suspendisse potenti. Nulla mattis ut elit eget gravida. Nam fermentum et quam non mollis. Cras rhoncus consectetur arcu, in dictum est dictum ut. Nullam cursus lectus ac mi iaculis, eget tincidunt orci</p></div><div class="scroll-section"><h1>Lorem ipsum dolor sit amet</h1><p>Nam sit amet vulputate magna. Curabitur molestie urna in auctor faucibus. Cras ut purus ac eros iaculis dapibus sit amet quis ante. Suspendisse potenti. Nulla mattis ut elit eget gravida. Nam fermentum et quam non mollis. Cras rhoncus consectetur arcu, in dictum est dictum ut. Nullam cursus lectus ac mi iaculis, eget tincidunt orci</p></div><div class="scroll-section"><h1>Lorem ipsum dolor sit amet</h1><p>Nam sit amet vulputate magna. Curabitur molestie urna in auctor faucibus. Cras ut purus ac eros iaculis dapibus sit amet quis ante. Suspendisse potenti. Nulla mattis ut elit eget gravida. Nam fermentum et quam non mollis. Cras rhoncus consectetur arcu, in dictum est dictum ut. Nullam cursus lectus ac mi iaculis, eget tincidunt orci</p></div><div class="scroll-section"><h1>Lorem ipsum dolor sit amet</h1><p>Nam sit amet vulputate magna. Curabitur molestie urna in auctor faucibus. Cras ut purus ac eros iaculis dapibus sit amet quis ante. Suspendisse potenti. Nulla mattis ut elit eget gravida. Nam fermentum et quam non mollis. Cras rhoncus consectetur arcu, in dictum est dictum ut. Nullam cursus lectus ac mi iaculis, eget tincidunt orci</p></div><div class="scroll-section"><h1>Lorem ipsum dolor sit amet</h1><p>Nam sit amet vulputate magna. Curabitur molestie urna in auctor faucibus. Cras ut purus ac eros iaculis dapibus sit amet quis ante. Suspendisse potenti. Nulla mattis ut elit eget gravida. Nam fermentum et quam non mollis. Cras rhoncus consectetur arcu, in dictum est dictum ut. Nullam cursus lectus ac mi iaculis, eget tincidunt orci</p></div>',6),X=_({__name:"scroll3",setup(O){C({script:["https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js"]});const t=o();o(0);const r=o(document.querySelectorAll("xxxx")),v=o({});function c(){const s=document.scrollingElement,e=s.scrollTop/s.clientHeight;document.documentElement.style.setProperty("--percentOfScreenHeightScrolled",e),v.value={toto:33,percentOfScreenHeightScrolled:e}}S(async()=>{r.value=document.querySelectorAll(".scroll-section"),window.addEventListener("scroll",c),window.addEventListener("resize",c),c()});function f(){var u,m;console.log("xxxx svg",t.value);const s=(u=t.value)==null?void 0:u.querySelector("svg [id='layer2']"),e=(m=t.value)==null?void 0:m.querySelector("svg [id='layer3']");console.log({layer2:s,layer3:e});var i=0;r.value.forEach(n=>{var g;i+=1,console.log(`building anim for section ${i} ...`);const a=(g=t.value)==null?void 0:g.querySelector(`svg [inkscape\\:label='stage${i}']`),d=n.offsetTop,p=n.offsetHeight,h=d+p-window.innerHeight,N=d+p-window.innerHeight+100;console.log(h,N),a?(a.style.opacity="0.0",console.log("svg section",a),a.animate({transform:["translateX(200px)","translateX(0px)"],opacity:[0,1]},{timeline:new ViewTimeline({subject:n}),fill:"forwards"})):console.log("svg section not found !")})}return(s,e)=>{const i=b;return q(),y(H,null,[V,k,x(i,{modelValue:w(t),"onUpdate:modelValue":e[0]||(e[0]=u=>L(t)?t.value=u:null),onLoaded:f,class:"background-anim",href:"/scrollexample/anim.svg"},null,8,["modelValue"]),P],64)}}});export{X as default};
