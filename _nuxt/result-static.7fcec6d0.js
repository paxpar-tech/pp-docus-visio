import{_ as k}from"./result.vue.3977ce8d.js";import{u as V}from"./useToast.582151af.js";import{u as z}from"./usePaxparAPI.271643c1.js";import{u as x}from"./fetch.c35376f1.js";import{d as I,r as n,L,O as f,Z as N,b as h,c as v,e as g,g as P,I as p,n as S,f as $,q as F,k as q}from"./entry.558da846.js";import{e as A}from"./reftools.ee468adf.js";import{l as G}from"./js-yaml.bea960a4.js";import"./factice.vue.18962460.js";import"./Button.6280da3c.js";import"./basic.vue.f0dbf387.js";import"./exception.vue.b3783358.js";import"./pubkey.vue.f490ae2c.js";import"./traceback.vue.dc688cb7.js";import"./default.vue.9dbdbe66.js";import"./checktools.b7529971.js";import"./transition.325a74d8.js";import"./env.95726da5.js";import"./chat.vue.aa6c7ca9.js";import"./conversation.vue.711b7b43.js";import"./actor.vue.eca77ba3.js";import"./index.es.cfc42595.js";import"./tslib.es6.0c17087b.js";import"./datav.vue.c5ef10d2.js";import"./CopyButton.vue.e91c4f61.js";import"./index.9b5ac9c9.js";import"./geographic.f8192594.js";import"./nonconformity.vue.e2c82fc6.js";import"./notebook.3bc4c6f6.js";import"./semantic.c8e55f74.js";import"./simple.vue.94da8733.js";import"./timeline.be84a7a9.js";import"./debug-panel.vue.d1231d3b.js";import"./useFeatureFlag.62790515.js";import"./fullscreen.vue.ef390360.js";import"./Modal.cf641748.js";import"./use-root-containers.c4fcaf7b.js";import"./url.635def0a.js";const O={class:"p-8 rounded-lg shadow-lg relative"},E={id:"loading-spinner"},R={key:0,class:"loading loading-ring loading-lg"},T=I({__name:"result-static",props:{path:{},result:{},show_root:{type:Boolean,default:!1},hide_modes_selector:{type:Boolean,default:!1},mode:{default:"basic"},auto_propagate_status:{type:Boolean,default:!0},zoom_disabled:{type:Boolean,default:!1}},async setup(w){let l,d;const y=V(),{backend:b}=z(),e=w,c=n(e.path!==void 0),s=n(c.value),u=n();function m(t,o){const a=(t==null?void 0:t.children)||[];for(let i of a)m(i,t.status)}const C=L(()=>A(e.path,b));async function r(){if(c.value){s.value=!0;const o=C.value;var t;if(o===void 0)return;o!=null&&o.startsWith("http")?t=await _(o):(t=await B(o),t===void 0&&(t=await _(o)))}else e.result&&(t=e.result);e.auto_propagate_status&&t&&m(t),t&&(u.value=t),s.value=!1}async function _(t){let o;const{data:a,error:i}=await x(t,"$S9CGFIVhGw");if(i.value){console.error(`${t} not found !`),y.error(`${t} not found !`);return}return typeof a.value=="string"?o=G(a.value):o=a.value,o}async function B(t){return await F().where({_path:t}).findOne()}return f(()=>e.path,async(t,o)=>{console.debug("watch props.path ",t),await r()}),f(()=>e.result,async(t,o)=>{console.debug("watch props.result ",t),await r()}),[l,d]=N(()=>r()),await l,d(),(t,o)=>{const a=k;return h(),v("div",O,[g("div",{id:"main",class:S([{blurred:p(s)},"relative"])},[P(a,{node:p(u),show_root:t.show_root,hide_modes_selector:t.hide_modes_selector,mode:t.mode,auto_propagate_status:t.auto_propagate_status,zoom_disabled:t.zoom_disabled},null,8,["node","show_root","hide_modes_selector","mode","auto_propagate_status","zoom_disabled"])],2),g("div",E,[p(s)?(h(),v("span",R)):$("",!0)])])}}});const Vt=q(T,[["__scopeId","data-v-ccfd73e6"]]);export{Vt as default};
