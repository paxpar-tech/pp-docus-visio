import{n as Fe,_ as te,a as ue,u as Se,t as Re,k as Me,c as De}from"./Button.6280da3c.js";import{_ as ve}from"./Avatar.98760746.js";import{a2 as ne,r as P,L as h,d as x,A as B,a3 as qe,o as Q,O as se,a4 as Ce,F as _,a5 as He,a6 as Ae,a as Pe,a7 as Le,a8 as ke,a9 as X,k as fe,aa as re,ab as le,b as y,J as j,w as Y,e as M,ac as z,n as C,f as U,ad as G,D as de,t as L,c as E,a0 as ee,ae as ge,af as we,T as ze,ag as ae,ah as Ke,ai as We,aj as Ge,W as xe,g as J,ak as Je,al as Ye,am as Qe,an as Xe,I as ye,Y as Ie}from"./entry.558da846.js";import{u as W,o as q,c as Ze,l as pe,K as _e,H as me,T as Te,t as Oe,N as ce,p as et}from"./env.95726da5.js";import{m as Be,y as tt,f as ot,a as at,O as lt,o as K}from"./use-root-containers.c4fcaf7b.js";import{n as nt,_ as ut}from"./Modal.cf641748.js";import{o as it}from"./transition.325a74d8.js";import{u as st}from"./useToast.582151af.js";function rt(e){throw new Error("Unexpected object: "+e)}var F=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(F||{});function dt(e,a){let l=a.resolveItems();if(l.length<=0)return null;let p=a.resolveActiveIndex(),o=p??-1,t=(()=>{switch(e.focus){case 0:return l.findIndex(u=>!a.resolveDisabled(u));case 1:{let u=l.slice().reverse().findIndex((i,c,m)=>o!==-1&&m.length-c-1>=o?!1:!a.resolveDisabled(i));return u===-1?u:l.length-1-u}case 2:return l.findIndex((u,i)=>i<=o?!1:!a.resolveDisabled(u));case 3:{let u=l.slice().reverse().findIndex(i=>!a.resolveDisabled(i));return u===-1?u:l.length-1-u}case 4:return l.findIndex(u=>a.resolveId(u)===e.id);case 5:return null;default:rt(e)}})();return t===-1?p:t}function pt({container:e,accept:a,walk:l,enabled:p}){ne(()=>{let o=e.value;if(!o||p!==void 0&&!p.value)return;let t=Be(e);if(!t)return;let u=Object.assign(c=>a(c),{acceptNode:a}),i=t.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,u,!1);for(;i.nextNode();)l(i.currentNode)})}function Ve(e={},a=null,l=[]){for(let[p,o]of Object.entries(e))Ne(l,Ee(a,p),o);return l}function Ee(e,a){return e?e+"["+a+"]":a}function Ne(e,a,l){if(Array.isArray(l))for(let[p,o]of l.entries())Ne(e,Ee(a,p.toString()),o);else l instanceof Date?e.push([a,l.toISOString()]):typeof l=="boolean"?e.push([a,l?"1":"0"]):typeof l=="string"?e.push([a,l]):typeof l=="number"?e.push([a,`${l}`]):l==null?e.push([a,""]):Ve(l,a,e)}function ct(e,a,l){let p=P(l==null?void 0:l.value),o=h(()=>e.value!==void 0);return[h(()=>o.value?e.value:p.value),function(t){return o.value||(p.value=t),a==null?void 0:a(t)}]}function $e(e){return[e.screenX,e.screenY]}function vt(){let e=P([-1,-1]);return{wasMoved(a){let l=$e(a);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(a){e.value=$e(a)}}}function ft(e,a){return e===a}var mt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(mt||{}),bt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(bt||{}),gt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(gt||{});let Ue=Symbol("ComboboxContext");function be(e){let a=He(Ue,null);if(a===null){let l=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,be),l}return a}let yt=x({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ft},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:a,attrs:l,emit:p}){let o=P(1),t=P(null),u=P(null),i=P(null),c=P(null),m=P({static:!1,hold:!1}),n=P([]),v=P(null),S=P(1),$=P(!1);function O(s=b=>b){let b=v.value!==null?n.value[v.value]:null,k=lt(s(n.value.slice()),I=>q(I.dataRef.domRef)),g=b?k.indexOf(b):null;return g===-1&&(g=null),{options:k,activeOptionIndex:g}}let R=h(()=>e.multiple?1:0),A=h(()=>e.nullable),[r,w]=ct(h(()=>e.modelValue),s=>p("update:modelValue",s),h(()=>e.defaultValue)),T=h(()=>r.value===void 0?W(R.value,{1:[],0:void 0}):r.value),D=null,f=null,d={comboboxState:o,value:T,mode:R,compare(s,b){if(typeof e.by=="string"){let k=e.by;return(s==null?void 0:s[k])===(b==null?void 0:b[k])}return e.by(s,b)},defaultValue:h(()=>e.defaultValue),nullable:A,inputRef:u,labelRef:t,buttonRef:i,optionsRef:c,disabled:h(()=>e.disabled),options:n,change(s){w(s)},activeOptionIndex:h(()=>{if($.value&&v.value===null&&n.value.length>0){let s=n.value.findIndex(b=>!b.dataRef.disabled);s!==-1&&(v.value=s)}return v.value}),activationTrigger:S,optionsPropsRef:m,closeCombobox(){$.value=!1,!e.disabled&&o.value!==1&&(o.value=1,v.value=null)},openCombobox(){if($.value=!0,e.disabled||o.value===0)return;let s=n.value.findIndex(b=>{let k=B(b.dataRef.value);return W(R.value,{0:()=>d.compare(B(d.value.value),B(k)),1:()=>B(d.value.value).some(g=>d.compare(B(g),B(k)))})});s!==-1&&(v.value=s),o.value=0},goToOption(s,b,k){$.value=!1,D!==null&&cancelAnimationFrame(D),D=requestAnimationFrame(()=>{if(e.disabled||c.value&&!m.value.static&&o.value===1)return;let g=O();if(g.activeOptionIndex===null){let V=g.options.findIndex(oe=>!oe.dataRef.disabled);V!==-1&&(g.activeOptionIndex=V)}let I=dt(s===F.Specific?{focus:F.Specific,id:b}:{focus:s},{resolveItems:()=>g.options,resolveActiveIndex:()=>g.activeOptionIndex,resolveId:V=>V.id,resolveDisabled:V=>V.dataRef.disabled});v.value=I,S.value=k??1,n.value=g.options})},selectOption(s){let b=n.value.find(g=>g.id===s);if(!b)return;let{dataRef:k}=b;w(W(R.value,{0:()=>k.value,1:()=>{let g=B(d.value.value).slice(),I=B(k.value),V=g.findIndex(oe=>d.compare(I,B(oe)));return V===-1?g.push(I):g.splice(V,1),g}}))},selectActiveOption(){if(d.activeOptionIndex.value===null)return;let{dataRef:s,id:b}=n.value[d.activeOptionIndex.value];w(W(R.value,{0:()=>s.value,1:()=>{let k=B(d.value.value).slice(),g=B(s.value),I=k.findIndex(V=>d.compare(g,B(V)));return I===-1?k.push(g):k.splice(I,1),k}})),d.goToOption(F.Specific,b)},registerOption(s,b){f&&cancelAnimationFrame(f);let k={id:s,dataRef:b},g=O(I=>(I.push(k),I));if(v.value===null){let I=b.value.value;W(R.value,{0:()=>d.compare(B(d.value.value),B(I)),1:()=>B(d.value.value).some(V=>d.compare(B(V),B(I)))})&&(g.activeOptionIndex=g.options.indexOf(k))}n.value=g.options,v.value=g.activeOptionIndex,S.value=1,g.options.some(I=>!q(I.dataRef.domRef))&&(f=requestAnimationFrame(()=>{let I=O();n.value=I.options,v.value=I.activeOptionIndex}))},unregisterOption(s){var b;d.activeOptionIndex.value!==null&&((b=d.options.value[d.activeOptionIndex.value])==null?void 0:b.id)===s&&($.value=!0);let k=O(g=>{let I=g.findIndex(V=>V.id===s);return I!==-1&&g.splice(I,1),g});n.value=k.options,v.value=k.activeOptionIndex,S.value=1}};tt([u,i,c],()=>d.closeCombobox(),h(()=>o.value===0)),qe(Ue,d),Ze(h(()=>W(o.value,{0:pe.Open,1:pe.Closed})));let N=h(()=>d.activeOptionIndex.value===null?null:n.value[d.activeOptionIndex.value].dataRef.value),H=h(()=>{var s;return(s=q(u))==null?void 0:s.closest("form")});return Q(()=>{se([H],()=>{if(!H.value||e.defaultValue===void 0)return;function s(){d.change(e.defaultValue)}return H.value.addEventListener("reset",s),()=>{var b;(b=H.value)==null||b.removeEventListener("reset",s)}},{immediate:!0})}),()=>{let{name:s,disabled:b,form:k,...g}=e,I={open:o.value===0,disabled:b,activeIndex:d.activeOptionIndex.value,activeOption:N.value,value:T.value};return Ce(_,[...s!=null&&T.value!=null?Ve({[s]:T.value}).map(([V,oe])=>Ce(ot,_e({features:at.Hidden,key:V,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:k,name:V,value:oe}))):[],me({theirProps:{...l,...Te(g,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:I,slots:a,attrs:l,name:"Combobox"})])}}}),ht=x({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${Oe()}`}},emits:{change:e=>!0},setup(e,{emit:a,attrs:l,slots:p,expose:o}){let t=be("ComboboxInput"),u=h(()=>Be(q(t.inputRef))),i={value:!1};o({el:t.inputRef,$el:t.inputRef});function c(){t.change(null);let r=q(t.optionsRef);r&&(r.scrollTop=0),t.goToOption(F.Nothing)}let m=h(()=>{var r;let w=t.value.value;return q(t.inputRef)?typeof e.displayValue<"u"&&w!==void 0?(r=e.displayValue(w))!=null?r:"":typeof w=="string"?w:"":""});Q(()=>{se([m,t.comboboxState,u],([r,w],[T,D])=>{if(i.value)return;let f=q(t.inputRef);f&&((D===0&&w===1||r!==T)&&(f.value=r),requestAnimationFrame(()=>{var d;if(i.value||!f||((d=u.value)==null?void 0:d.activeElement)!==f)return;let{selectionStart:N,selectionEnd:H}=f;Math.abs((H??0)-(N??0))===0&&N===0&&f.setSelectionRange(f.value.length,f.value.length)}))},{immediate:!0}),se([t.comboboxState],([r],[w])=>{if(r===0&&w===1){if(i.value)return;let T=q(t.inputRef);if(!T)return;let D=T.value,{selectionStart:f,selectionEnd:d,selectionDirection:N}=T;T.value="",T.value=D,N!==null?T.setSelectionRange(f,d,N):T.setSelectionRange(f,d)}})});let n=P(!1);function v(){n.value=!0}function S(){it().nextFrame(()=>{n.value=!1})}function $(r){switch(i.value=!0,r.key){case K.Enter:if(i.value=!1,t.comboboxState.value!==0||n.value)return;if(r.preventDefault(),r.stopPropagation(),t.activeOptionIndex.value===null){t.closeCombobox();return}t.selectActiveOption(),t.mode.value===0&&t.closeCombobox();break;case K.ArrowDown:return i.value=!1,r.preventDefault(),r.stopPropagation(),W(t.comboboxState.value,{0:()=>t.goToOption(F.Next),1:()=>t.openCombobox()});case K.ArrowUp:return i.value=!1,r.preventDefault(),r.stopPropagation(),W(t.comboboxState.value,{0:()=>t.goToOption(F.Previous),1:()=>{t.openCombobox(),Ae(()=>{t.value.value||t.goToOption(F.Last)})}});case K.Home:if(r.shiftKey)break;return i.value=!1,r.preventDefault(),r.stopPropagation(),t.goToOption(F.First);case K.PageUp:return i.value=!1,r.preventDefault(),r.stopPropagation(),t.goToOption(F.First);case K.End:if(r.shiftKey)break;return i.value=!1,r.preventDefault(),r.stopPropagation(),t.goToOption(F.Last);case K.PageDown:return i.value=!1,r.preventDefault(),r.stopPropagation(),t.goToOption(F.Last);case K.Escape:if(i.value=!1,t.comboboxState.value!==0)return;r.preventDefault(),t.optionsRef.value&&!t.optionsPropsRef.value.static&&r.stopPropagation(),t.nullable.value&&t.mode.value===0&&t.value.value===null&&c(),t.closeCombobox();break;case K.Tab:if(i.value=!1,t.comboboxState.value!==0)return;t.mode.value===0&&t.selectActiveOption(),t.closeCombobox();break}}function O(r){a("change",r),t.nullable.value&&t.mode.value===0&&r.target.value===""&&c(),t.openCombobox()}function R(){i.value=!1}let A=h(()=>{var r,w,T,D;return(D=(T=(w=e.defaultValue)!=null?w:t.defaultValue.value!==void 0?(r=e.displayValue)==null?void 0:r.call(e,t.defaultValue.value):null)!=null?T:t.defaultValue.value)!=null?D:""});return()=>{var r,w,T,D,f,d;let N={open:t.comboboxState.value===0},{id:H,displayValue:s,onChange:b,...k}=e,g={"aria-controls":(r=t.optionsRef.value)==null?void 0:r.id,"aria-expanded":t.comboboxState.value===0,"aria-activedescendant":t.activeOptionIndex.value===null||(w=t.options.value[t.activeOptionIndex.value])==null?void 0:w.id,"aria-labelledby":(f=(T=q(t.labelRef))==null?void 0:T.id)!=null?f:(D=q(t.buttonRef))==null?void 0:D.id,"aria-autocomplete":"list",id:H,onCompositionstart:v,onCompositionend:S,onKeydown:$,onInput:O,onBlur:R,role:"combobox",type:(d=l.type)!=null?d:"text",tabIndex:0,ref:t.inputRef,defaultValue:A.value,disabled:t.disabled.value===!0?!0:void 0};return me({ourProps:g,theirProps:k,slot:N,attrs:l,slots:p,features:ce.RenderStrategy|ce.Static,name:"ComboboxInput"})}}}),St=x({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:a,slots:l,expose:p}){let o=be("ComboboxOptions"),t=`headlessui-combobox-options-${Oe()}`;p({el:o.optionsRef,$el:o.optionsRef}),ne(()=>{o.optionsPropsRef.value.static=e.static}),ne(()=>{o.optionsPropsRef.value.hold=e.hold});let u=et(),i=h(()=>u!==null?(u.value&pe.Open)===pe.Open:o.comboboxState.value===0);return pt({container:h(()=>q(o.optionsRef)),enabled:h(()=>o.comboboxState.value===0),accept(c){return c.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}}),()=>{var c,m,n;let v={open:o.comboboxState.value===0},S={"aria-labelledby":(n=(c=q(o.labelRef))==null?void 0:c.id)!=null?n:(m=q(o.buttonRef))==null?void 0:m.id,id:t,ref:o.optionsRef,role:"listbox","aria-multiselectable":o.mode.value===1?!0:void 0},$=Te(e,["hold"]);return me({ourProps:S,theirProps:$,slot:v,attrs:a,slots:l,features:ce.RenderStrategy|ce.Static,visible:i.value,name:"ComboboxOptions"})}}}),kt=x({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:a,attrs:l,expose:p}){let o=be("ComboboxOption"),t=`headlessui-combobox-option-${Oe()}`,u=P(null);p({el:u,$el:u});let i=h(()=>o.activeOptionIndex.value!==null?o.options.value[o.activeOptionIndex.value].id===t:!1),c=h(()=>W(o.mode.value,{0:()=>o.compare(B(o.value.value),B(e.value)),1:()=>B(o.value.value).some(A=>o.compare(B(A),B(e.value)))})),m=h(()=>({disabled:e.disabled,value:e.value,domRef:u}));Q(()=>o.registerOption(t,m)),Pe(()=>o.unregisterOption(t)),ne(()=>{o.comboboxState.value===0&&i.value&&o.activationTrigger.value!==0&&Ae(()=>{var A,r;return(r=(A=q(u))==null?void 0:A.scrollIntoView)==null?void 0:r.call(A,{block:"nearest"})})});function n(A){if(e.disabled)return A.preventDefault();o.selectOption(t),o.mode.value===0&&o.closeCombobox(),nt()||requestAnimationFrame(()=>{var r;return(r=q(o.inputRef))==null?void 0:r.focus()})}function v(){if(e.disabled)return o.goToOption(F.Nothing);o.goToOption(F.Specific,t)}let S=vt();function $(A){S.update(A)}function O(A){S.wasMoved(A)&&(e.disabled||i.value||o.goToOption(F.Specific,t,0))}function R(A){S.wasMoved(A)&&(e.disabled||i.value&&(o.optionsPropsRef.value.hold||o.goToOption(F.Nothing)))}return()=>{let{disabled:A}=e,r={active:i.value,selected:c.value,disabled:A},w={id:t,ref:u,role:"option",tabIndex:A===!0?void 0:-1,"aria-disabled":A===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:n,onFocus:v,onPointerenter:$,onMouseenter:$,onPointermove:O,onMousemove:O,onPointerleave:R,onMouseleave:R};return me({ourProps:w,theirProps:e,slot:r,attrs:l,slots:a,name:"ComboboxOption"})}}});function Ot(e,a,l){let p=null;const{pause:o,resume:t,timestamp:u}=Le({...l||{},controls:!0}),i=P(null),c=h(()=>i.value?a-(u.value-i.value):0);function m(...R){p=setTimeout(()=>{p=null,i.value=null,e(...R)},c.value)}function n(){p&&(clearTimeout(p),p=null)}function v(){i.value=Date.now(),m()}function S(){n(),o()}function $(){n(),o()}function O(){m(),t(),i.value=(i.value||0)+(Date.now()-u.value)}return v(),{start:v,stop:S,pause:$,resume:O,remaining:c}}const ie=ke(X.ui.strategy,X.ui.notification,Fe),Ct=x({components:{UIcon:te,UAvatar:ve,UButton:ue},inheritAttrs:!1,props:{id:{type:[String,Number],required:!0},title:{type:String,required:!0},description:{type:String,default:null},icon:{type:String,default:()=>ie.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>ie.default.closeButton},timeout:{type:Number,default:5e3},actions:{type:Array,default:()=>[]},callback:{type:Function,default:null},color:{type:String,default:()=>ie.default.color,validator(e){return["gray",...X.ui.colors].includes(e)}},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["close"],setup(e,{emit:a}){const{ui:l,attrs:p}=Se("notification",re(e,"ui"),ie);let o=null;const t=P(e.timeout),u=h(()=>Re(le(l.value.wrapper,l.value.background,l.value.rounded,l.value.shadow),e.class)),i=h(()=>{var O;return le(l.value.progress.base,(O=l.value.progress.background)==null?void 0:O.replaceAll("{color}",e.color))}),c=h(()=>({width:`${t.value/e.timeout*100||0}%`})),m=h(()=>{var O;return le(l.value.icon.base,(O=l.value.icon.color)==null?void 0:O.replaceAll("{color}",e.color))});function n(){o&&o.pause()}function v(){o&&o.resume()}function S(){o&&o.stop(),e.callback&&e.callback(),a("close")}function $(O){o&&o.stop(),O.click&&O.click(),a("close")}return Q(()=>{e.timeout&&(o=Ot(()=>{S()},e.timeout),ne(()=>{t.value=o.remaining.value}))}),Pe(()=>{o&&o.stop()}),{ui:l,attrs:p,wrapperClass:u,progressClass:i,progressStyle:c,iconClass:m,onMouseover:n,onMouseleave:v,onClose:S,onAction:$}}}),It={class:"w-0 flex-1"},$t={key:1,class:"mt-3 flex items-center gap-2"},Rt={class:"flex-shrink-0 flex items-center gap-3"},At={key:0,class:"flex items-center gap-2"};function Pt(e,a,l,p,o,t){const u=te,i=ve,c=ue;return y(),j(ze,z({appear:""},e.ui.transition),{default:Y(()=>[M("div",z({class:e.wrapperClass,role:"status"},e.attrs,{onMouseover:a[0]||(a[0]=(...m)=>e.onMouseover&&e.onMouseover(...m)),onMouseleave:a[1]||(a[1]=(...m)=>e.onMouseleave&&e.onMouseleave(...m))}),[M("div",{class:C([e.ui.container,e.ui.rounded,e.ui.ring])},[M("div",{class:C(e.ui.padding)},[M("div",{class:C(["flex gap-3",{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}])},[e.icon?(y(),j(u,{key:0,name:e.icon,class:C(e.iconClass)},null,8,["name","class"])):U("",!0),e.avatar?(y(),j(i,z({key:1},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):U("",!0),M("div",It,[M("p",{class:C(e.ui.title)},[G(e.$slots,"title",{title:e.title},()=>[de(L(e.title),1)])],2),e.description||e.$slots.description?(y(),E("p",{key:0,class:C(e.ui.description)},[G(e.$slots,"description",{description:e.description},()=>[de(L(e.description),1)])],2)):U("",!0),(e.description||e.$slots.description)&&e.actions.length?(y(),E("div",$t,[(y(!0),E(_,null,ee(e.actions,(m,n)=>(y(),j(c,z({key:n},{...e.ui.default.actionButton,...m},{onClick:ge(v=>e.onAction(m),["stop"])}),null,16,["onClick"]))),128))])):U("",!0)]),M("div",Rt,[!e.description&&!e.$slots.description&&e.actions.length?(y(),E("div",At,[(y(!0),E(_,null,ee(e.actions,(m,n)=>(y(),j(c,z({key:n},{...e.ui.default.actionButton,...m},{onClick:ge(v=>e.onAction(m),["stop"])}),null,16,["onClick"]))),128))])):U("",!0),e.closeButton?(y(),j(c,z({key:1,"aria-label":"Close"},{...e.ui.default.closeButton,...e.closeButton},{onClick:ge(e.onClose,["stop"])}),null,16,["onClick"])):U("",!0)])],2)],2),e.timeout?(y(),E("div",{key:0,class:C(e.progressClass),style:we(e.progressStyle)},null,6)):U("",!0)],2)],16)]),_:3},16)}const wt=fe(Ct,[["render",Pt]]),he=ke(X.ui.strategy,X.ui.kbd,Me),Tt=x({inheritAttrs:!1,props:{value:{type:String,default:null},size:{type:String,default:()=>he.default.size,validator(e){return Object.keys(he.size).includes(e)}},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},setup(e){const{ui:a,attrs:l}=Se("kbd",re(e,"ui"),he),p=h(()=>Re(le(a.value.base,a.value.size[e.size],a.value.padding,a.value.rounded,a.value.font,a.value.background,a.value.ring),e.class));return{ui:a,attrs:l,kbdClass:p}}});function Bt(e,a,l,p,o,t){return y(),E("kbd",z({class:e.kbdClass},e.attrs),[G(e.$slots,"default",{},()=>[de(L(e.value),1)])],16)}const je=fe(Tt,[["render",Bt]]);const Vt=x({components:{HComboboxOption:kt,UIcon:te,UAvatar:ve,UKbd:je},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const a=h(()=>{const p=e.group[e.groupAttribute];return typeof p=="function"?p(e.query):p});function l(p,{indices:o,value:t}){if(p===t)return"";let u="",i=0;o.forEach(m=>{const n=m[1]+1,v=n-m[0]>=e.query.length;u+=[t.substring(i,m[0]),v&&"<mark>",t.substring(m[0],n),v&&"</mark>"].filter(Boolean).join(""),i=n}),u+=t.substring(i);const c=u.indexOf("<mark>");return c>60&&(u=`...${u.substring(c-60)}`),u}return{label:a,highlight:l}}}),Et=["aria-label"],Nt=["innerHTML"];function Ut(e,a,l,p,o,t){const u=te,i=ve,c=je,m=ae("HComboboxOption");return y(),E("div",{class:C(e.ui.group.wrapper),role:"option"},[e.label?(y(),E("h2",{key:0,class:C(e.ui.group.label)},L(e.label),3)):U("",!0),M("div",{class:C(e.ui.group.container),role:"listbox","aria-label":e.group[e.groupAttribute]},[(y(!0),E(_,null,ee(e.group.commands,(n,v)=>(y(),j(m,{key:`${e.group.key}-${v}`,value:n,disabled:n.disabled,as:"template"},{default:Y(({active:S,selected:$})=>[M("div",{class:C([e.ui.group.command.base,S?e.ui.group.command.active:e.ui.group.command.inactive,n.disabled?"cursor-not-allowed":"cursor-pointer"])},[M("div",{class:C(e.ui.group.command.container)},[G(e.$slots,`${e.group.key}-icon`,{group:e.group,command:n,active:S,selected:$},()=>[n.icon?(y(),j(u,{key:0,name:n.icon,class:C([e.ui.group.command.icon.base,S?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,n.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):n.avatar?(y(),j(i,z({key:1},{size:e.ui.group.command.avatar.size,...n.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):n.chip?(y(),E("span",{key:2,class:C(e.ui.group.command.chip.base),style:we({background:`#${n.chip}`})},null,6)):U("",!0)]),M("div",{class:C([e.ui.group.command.label,n.disabled&&e.ui.group.command.disabled])},[G(e.$slots,`${e.group.key}-command`,{group:e.group,command:n,active:S,selected:$},()=>{var O,R;return[n.prefix?(y(),E("span",{key:0,class:C(["flex-shrink-0",n.prefixClass||e.ui.group.command.prefix])},L(n.prefix),3)):U("",!0),M("span",{class:C(["truncate",{"flex-none":n.suffix||((O=n.matches)==null?void 0:O.length)}])},L(n[e.commandAttribute]),3),(R=n.matches)!=null&&R.length?(y(),E("span",{key:1,class:C(["truncate",n.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(n[e.commandAttribute],n.matches[0])},null,10,Nt)):n.suffix?(y(),E("span",{key:2,class:C(["truncate",n.suffixClass||e.ui.group.command.suffix])},L(n.suffix),3)):U("",!0)]})],2)],2),$?(y(),j(u,{key:0,name:e.selectedIcon,class:C(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):S&&(e.group.active||e.$slots[`${e.group.key}-active`])?G(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:n,active:S,selected:$},()=>[e.group.active?(y(),E("span",{key:0,class:C(e.ui.group.active)},L(e.group.active),3)):U("",!0)]):G(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:n,active:S,selected:$},()=>{var O;return[(O=n.shortcuts)!=null&&O.length?(y(),E("span",{key:0,class:C(e.ui.group.command.shortcuts)},[(y(!0),E(_,null,ee(n.shortcuts,R=>(y(),j(c,{key:R},{default:Y(()=>[de(L(R),1)]),_:2},1024))),128))],2)):!n.disabled&&e.group.inactive?(y(),E("span",{key:1,class:C(e.ui.group.inactive)},L(e.group.inactive),3)):U("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,Et)],2)}const jt=fe(Vt,[["render",Ut]]),Z=ke(X.ui.strategy,X.ui.commandPalette,De),Ft=x({components:{HCombobox:yt,HComboboxInput:ht,HComboboxOptions:St,UIcon:te,UButton:ue,CommandPaletteGroup:jt},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>Z.default.icon},loadingIcon:{type:String,default:()=>Z.default.loadingIcon},selectedIcon:{type:String,default:()=>Z.default.selectedIcon},closeButton:{type:Object,default:()=>Z.default.closeButton},emptyState:{type:Object,default:()=>Z.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue","close"],setup(e,{emit:a,expose:l}){const{ui:p,attrs:o}=Se("commandPalette",re(e,"ui"),Z,re(e,"class")),t=P(""),u=P(),i=P(null),c=P(!1);Q(()=>{e.autoselect&&w()}),Q(()=>{setTimeout(()=>{var N;const f=(N=u.value)==null?void 0:N.$.provides;if(!f)return;const d=Object.getOwnPropertySymbols(f);i.value=d.length&&f[d[0]]},200)});const m=h(()=>Ke({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),n=h(()=>{const f=[];for(const d of e.groups)d.search||f.push(...d.commands.map(N=>({...N,group:d.key})));return f}),v=P({}),{results:S}=We(t,n,m),$=h(()=>{var N,H;const f=[],d={};for(const s of S.value)d[N=s.item.group]||(d[N]=[]),d[s.item.group].push(s);for(const s in d){const b=e.groups.find(g=>g.key===s);let k=d[s].map(g=>{const{item:I,...V}=g;return{...I,...V}});b.filter&&typeof b.filter=="function"&&(k=b.filter(t.value,k)),f.push({...b,commands:k.slice(0,m.value.resultLimit)})}for(const s of e.groups)if(s.search&&((H=v.value[s.key])!=null&&H.length)){let b=v.value[s.key]||[];s.filter&&typeof s.filter=="function"&&(b=s.filter(t.value,b)),f.push({...s,commands:b.slice(0,m.value.resultLimit)})}return f}),O=Ge(async()=>{const f=e.groups.filter(d=>!!d.search);f.length&&(c.value=!0,await Promise.all(f.map(async d=>{v.value[d.key]=await d.search(t.value)})),c.value=!1)},e.debounce);se(t,()=>{O(),setTimeout(()=>{var f;(f=u.value)==null||f.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)});const R=h(()=>(e.loading||c.value)&&e.loadingIcon?e.loadingIcon:e.icon),A=h(()=>le(p.value.input.icon.base,p.value.input.icon.size,(e.loading||c.value)&&e.loadingIcon&&"animate-spin")),r=h(()=>({...p.value.default.emptyState,...e.emptyState}));function w(){setTimeout(()=>{var f;(f=u.value)==null||f.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function T(f){a("update:modelValue",f,{query:t.value}),e.autoclear&&setTimeout(()=>{t.value=""},0)}function D(){t.value?t.value="":a("close")}return l({query:t,updateQuery:f=>{t.value=f},comboboxApi:i,results:S}),{ui:p,attrs:o,groups:$,comboboxInput:u,query:t,iconName:R,iconClass:A,emptyState:r,onSelect:T,onClear:D}}});function Mt(e,a,l,p,o,t){const u=te,i=ae("HComboboxInput"),c=ue,m=ae("CommandPaletteGroup"),n=ae("HComboboxOptions"),v=ae("HCombobox");return y(),j(v,z({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:Y(()=>[xe(M("div",{class:C(e.ui.input.wrapper)},[e.iconName?(y(),j(u,{key:0,name:e.iconName,class:C(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):U("",!0),J(i,{ref:"comboboxInput",value:e.query,class:C([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:a[0]||(a[0]=S=>e.query=S.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(y(),j(c,z({key:1,"aria-label":"Close"},{...e.ui.default.closeButton,...e.closeButton},{class:e.ui.input.closeButton,onClick:e.onClear}),null,16,["class","onClick"])):U("",!0)],2),[[Je,e.searchable]]),e.groups.length?(y(),j(n,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:C(e.ui.container)},{default:Y(()=>[(y(!0),E(_,null,ee(e.groups,S=>(y(),j(m,{key:S.key,query:e.query,group:S,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},Ye({_:2},[ee(e.$slots,($,O)=>({name:O,fn:Y(R=>[G(e.$slots,O,Qe(Xe(R)))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?G(e.$slots,"empty-state",{key:1},()=>[M("div",{class:C(e.ui.emptyState.wrapper)},[e.emptyState.icon?(y(),j(u,{key:0,name:e.emptyState.icon,class:C(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):U("",!0),M("p",{class:C(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},L(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):U("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const Dt=fe(Ft,[["render",Mt]]),qt=M("br",null,null,-1),Yt=x({__name:"nuxt-ui",setup(e){const a=st(),l=P(!1),p=[{id:1,label:"Wade Cooper"},{id:2,label:"Arlene Mccoy"},{id:3,label:"Devon Webb"},{id:4,label:"Tom Cook"},{id:5,label:"Tanya Fox"},{id:6,label:"Hellen Schmidt"},{id:7,label:"Caroline Schultz"},{id:8,label:"Mason Heaney"},{id:9,label:"Claudie Smitham"},{id:10,label:"Emil Schaefer"}],o=P([]);return Q(()=>{a.add({id:"update_downloaded",title:"Update downloaded.",description:"It will be installed on restart. Restart now?",icon:"i-octicon-desktop-download-24",timeout:0,actions:[{label:"Restart",click:()=>{}}]})}),(t,u)=>{const i=wt,c=ue,m=Dt,n=ut;return y(),E("div",null,[J(i,{actions:[{variant:"solid",color:"primary",label:"Action 1"},{variant:"outline",color:"primary",label:"Action 2"}],avatar:{src:"https://avatars.githubusercontent.com/u/739984?v=4"},id:9,title:"Notification",description:"This is a notification.",timeout:0,"close-button":{icon:"i-heroicons-archive-box-x-mark",color:"primary",variant:"outline",padded:!0,size:"2xs",ui:{rounded:"rounded-full"}}},null,8,["avatar"]),J(c,{icon:"i-heroicons-moon-20-solid",label:"Hello",color:"gray",variant:"ghost","aria-label":"Theme"}),J(c,{label:"Show toast",onClick:u[0]||(u[0]=v=>ye(a).add({title:"Hello world!"}))}),qt,J(c,{label:"Command Palette",onClick:u[1]||(u[1]=v=>l.value=!0)}),J(n,{modelValue:ye(l),"onUpdate:modelValue":u[3]||(u[3]=v=>Ie(l)?l.value=v:null)},{default:Y(()=>[J(m,{modelValue:ye(o),"onUpdate:modelValue":u[2]||(u[2]=v=>Ie(o)?o.value=v:null),multiple:"",nullable:"",groups:[{key:"people",commands:p}]},null,8,["modelValue","groups"])]),_:1},8,["modelValue"])])}}});export{Yt as default};
