import{d as A,N,x as D,V as I,L,Z as B,a1 as F,b as s,c as r,e as t,F as x,a0 as S,t as e,I as i,g as n,w as f,J as U,D as d,E as V}from"./entry.558da846.js";import R from"./Alert.912dbdd1.js";import{_ as $}from"./metric.vue.1faee5ee.js";import{u as E}from"./usePaxparAPI.271643c1.js";const T=t("p",null,"My subscriptions :",-1),q={class:"overflow-x-auto"},G={class:"table"},J=t("thead",null,[t("tr",null,[t("th"),t("th",null,"id"),t("th",null,"customer"),t("th",null,"product"),t("th",null,"price"),t("th",null,"start"),t("th",null,"end")])],-1),M={class:"hover"},Z={key:0},j=t("p",null,[d("Go to "),t("a",{href:""},"stripe customer portal"),d(" ...")],-1),z=t("button",{class:"btn btn-primary"},"Stripe Customer portal",-1),H=t("p",null,"This month activity ...",-1),tt=A({__name:"plan",async setup(K){var p,m;let o,_;const u=N(),y=D(),k=I(),{domain:b}=E(),c=(m=(p=y.paxpar)==null?void 0:p.stripe)==null?void 0:m.customer_portal,w=L(()=>u?`${c}?prefilled_email=${encodeURIComponent(u.value.email)}`:c),{data:C}=([o,_]=B(async()=>F("subscriptions2",async()=>{const{data:h}=await k.from("subscriptions").select("id, domain, customer_id, price_id, product_id, date_start, date_end").eq("domain",b);return h})),o=await o,_(),o);return(h,O)=>{const g=V,P=R,l=$;return s(),r(x,null,[T,t("div",q,[t("table",G,[J,t("tbody",null,[(s(!0),r(x,null,S(i(C),(a,v)=>(s(),r("tr",M,[t("th",null,e(v+1),1),t("td",null,e(a.id),1),t("td",null,e(a.customer_id),1),t("td",null,e(a.product_id),1),t("td",null,e(a.price_id),1),t("td",null,e(a.date_start),1),t("td",null,e(a.date_end),1)]))),256))])])]),i(c)?(s(),r("div",Z,[j,n(g,{to:i(w),target:"_blank"},{default:f(()=>[z]),_:1},8,["to"])])):(s(),U(P,{key:1,type:"warning"},{default:f(()=>[d("No stripe customer portal defined !")]),_:1})),H,n(l,{name:"xxx",title:"API calls",desc:"/ 10.000",fake:""}),n(l,{name:"xxx",title:"API burts",desc:"/ 20 / mn",fake:""}),n(l,{name:"xxx",title:"PDF cheecked",desc:"unlimited",fake:""}),n(l,{name:"xxx",title:"PDF crafted",desc:"unlimited",fake:""})],64)}}});export{tt as _};
