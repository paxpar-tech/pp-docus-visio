import{_ as d}from"./actor.vue.eca77ba3.js";import{d as l,r as _,L as h,O as v,o as g,b as m,c as f,a0 as y,e as i,g as b,t as B,n as k,I as x,F,aO as O}from"./entry.558da846.js";import{t as w}from"./index.es.cfc42595.js";const z={class:"chat-image avatar"},A={class:"chat-bubble"},N=l({__name:"conversation",props:{conversation:{},animate:{type:Boolean,default:!1},right:{type:Boolean,default:!1},animate_period:{default:1}},setup(p){const s=p,r=_([]),u=h(()=>{const t=[];var e,o=s.right?"start":"end";for(var a of s.conversation){const n=Object.keys(a)[0];e!==n&&(o=o=="start"?"end":"start"),t.push({actor:n,msg:a[n],pos:o}),e=n}return t});function c(){s.animate===!0&&O(()=>{const t=[];for(const e of r.value)t.push([e,{opacity:0},{duration:0}]);for(const e of r.value)t.push([e,{opacity:1},{duration:s.animate_period,easing:"linear"}]);w(t)},100)}return v(()=>s.conversation,()=>{c()}),g(()=>{c()}),(t,e)=>{const o=d;return m(!0),f(F,null,y(x(u),(a,n)=>(m(),f("div",{ref_for:!0,ref_key:"itemRefs",ref:r},[i("div",{class:k(["chat",a.pos=="start"?"chat-start":"chat-end"])},[i("div",z,[b(o,{name:a.actor,hidename:"",size:"8"},null,8,["name"])]),i("div",A,B(a.msg),1)],2)],512))),256)}}});export{N as _};
