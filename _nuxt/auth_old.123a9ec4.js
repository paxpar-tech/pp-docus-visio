import{_ as P}from"./CopyButton.vue.e91c4f61.js";import{d as T,V as $,N as I,r as d,L as V,b as S,J as A,w as O,e as t,D as g,W as u,X as r,I as o,Y as c,t as l,g as D,U as j}from"./entry.558da846.js";import{u as B}from"./usePaxparAPI.271643c1.js";import{u as N}from"./url.635def0a.js";import"./index.9b5ac9c9.js";import"./useToast.582151af.js";import"./fetch.c35376f1.js";const W=t("h1",{class:"card-title"},"DEBUG Auth",-1),q={class:"card m-6 bg-blue-100 shadow-xl"},E={class:"card-body"},K=t("h2",{class:"card-title"},"Auth Settings",-1),G={class:"card-actions justify-end"},J={class:"card m-6 bg-blue-100 shadow-xl"},M={class:"card-body"},X=t("h2",{class:"card-title"},"Login with magic email",-1),Y={class:"card-actions justify-end"},z={class:"card m-6 bg-blue-100 shadow-xl"},F={class:"card-body"},H=t("h2",{class:"card-title"},"Login with email/password",-1),Q={class:"card-actions justify-end"},Z={class:"card m-6 bg-blue-100 shadow-xl"},tt={class:"card-body"},st=t("h2",{class:"card-title"},"Login with auth providers",-1),et={class:"card-actions justify-end"},ot={class:"card m-6 bg-blue-100 shadow-xl"},at={class:"card-body"},lt=t("h2",{class:"card-title"},"API data :",-1),nt=t("h2",{class:"card-title"},"API error :",-1),it=t("h2",{class:"card-title"},"user = useSupabaseUser() :",-1),dt=t("div",{class:"divider"},null,-1),ut=t("h2",{class:"card-title"},"supabase backend",-1),rt=t("div",{class:"divider"},null,-1),ct=t("h2",{class:"card-title"},"useRequestURL",-1),yt=T({__name:"auth_old",setup(pt){const n=$(),x=I(),{backend:k}=B(),w=N(),L=w.toString().substring(0,w.toString().lastIndexOf("/")),p=d(k),b=d("http://localhost:3000/console"),a=d(""),m=d(),_=d(),h=d(),f=V(()=>`${p.value}/api/auth/redirect?to=${encodeURIComponent(b.value)}`);async function U(){const{data:i,error:s}=await n.auth.signInWithPassword({email:a.value,password:m.value});h.value=s,_.value=i}async function C(){const{data:i,error:s}=await n.auth.signInWithOtp({email:a.value,options:{emailRedirectTo:f.value}});h.value=s,_.value=i}const v=async i=>{const{data:s,error:y}=await n.auth.signInWithOAuth({provider:i});h.value=y,_.value=s};return(i,s)=>{const y=P,R=j;return S(),A(R,null,{default:O(()=>[t("div",null,[W,t("div",q,[t("div",E,[K,g(" backend : "),u(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>c(p)?p.value=e:null),type:"text",placeholder:"emailRedirectTo",class:"input w-full"},null,512),[[r,o(p)]]),g(" redirectTo : "),u(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>c(b)?b.value=e:null),type:"text",placeholder:"emailRedirectTo",class:"input w-full"},null,512),[[r,o(b)]]),g(" emailRedirectTo : "+l(o(f))+" ",1),t("div",G,[t("button",{onClick:s[2]||(s[2]=e=>o(n).auth.signOut()),class:"btn btn-primary"}," Logout ")])])]),t("div",J,[t("div",M,[X,u(t("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>c(a)?a.value=e:null),type:"text",placeholder:"email",class:"input w-full max-w-xs"},null,512),[[r,o(a)]]),t("div",Y,[t("button",{onClick:s[4]||(s[4]=e=>C()),class:"btn btn-primary"},"Login")])])]),t("div",z,[t("div",F,[H,u(t("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>c(a)?a.value=e:null),type:"text",placeholder:"email",class:"input w-full max-w-xs"},null,512),[[r,o(a)]]),u(t("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>c(m)?m.value=e:null),type:"text",placeholder:"password",class:"input w-full max-w-xs"},null,512),[[r,o(m)]]),t("div",Q,[t("button",{onClick:s[7]||(s[7]=e=>U()),class:"btn btn-primary"},"Login")])])]),t("div",Z,[t("div",tt,[st,t("div",et,[t("button",{onClick:s[8]||(s[8]=e=>v("gitlab")),class:"btn btn-primary"}," Login with gitlab "),t("button",{onClick:s[9]||(s[9]=e=>v("github")),class:"btn btn-primary"}," Login with github "),t("button",{onClick:s[10]||(s[10]=e=>v("bitbucket")),class:"btn btn-primary"}," Login with bitbucket "),t("button",{onClick:s[11]||(s[11]=e=>v("google")),class:"btn btn-primary"}," Login with google ")])])]),t("div",ot,[t("div",at,[lt,t("pre",null,l(o(_)),1),nt,t("pre",null,l(o(h)),1),it,t("pre",null,l(o(x)),1),dt,ut,t("p",null,"URL = "+l(o(n).supabaseUrl),1),t("p",null,[g(" key = "+l(o(n).supabaseKey)+" ",1),D(y,{content:o(n).supabaseKey},null,8,["content"])]),rt,ct,t("p",null,"url = "+l(o(w)),1),t("p",null,"urlParent = "+l(o(L)),1)])])])]),_:1})}}});export{yt as default};
