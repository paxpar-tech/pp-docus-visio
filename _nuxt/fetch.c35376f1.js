import{L,I as o,aL as $,K as x,aM as C,a1 as E}from"./entry.558da846.js";function A(c,r,y){var h;const[t={},u]=typeof r=="string"?[{},r]:[r,y],a=L(()=>{let n=c;return typeof n=="function"&&(n=n()),o(n)}),s=t.key||$([u,((h=o(t.method))==null?void 0:h.toUpperCase())||"GET",o(t.baseURL),typeof a.value=="string"?a.value:"",o(t.params||t.query),o(t.headers)]);if(!s||typeof s!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+s);if(!c)throw new Error("[nuxt] [useFetch] request is missing.");const l=s===u?"$f"+s:s;if(!t.baseURL&&typeof a.value=="string"&&a.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:d,lazy:m,default:w,transform:b,pick:g,watch:f,immediate:v,getCachedData:D,deep:_,...k}=t,i=x({...C,...k,cache:typeof t.cache=="boolean"?void 0:t.cache}),F={server:d,lazy:m,default:w,transform:b,pick:g,immediate:v,getCachedData:D,deep:_,watch:f===!1?[]:[i,a,...f||[]]};let e;return E(l,()=>{var p;return(p=e==null?void 0:e.abort)==null||p.call(e),e=typeof AbortController<"u"?new AbortController:{},(t.$fetch||globalThis.$fetch)(a.value,{signal:e.signal,...i})},F)}export{A as u};
