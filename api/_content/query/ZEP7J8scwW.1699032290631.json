{"_path":"/docus/gitlab","_dir":"docus","_draft":false,"_partial":false,"_locale":"","title":"gitlab","description":"Objective: Being able to deploy a docus instance on gitlab pages\nfrom a private repo and editing the whole thing trough nuxt studio.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"gitlab"},"children":[{"type":"text","value":"gitlab"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Objective: Being able to deploy a docus instance on gitlab pages\nfrom a private repo and editing the whole thing trough nuxt studio."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Why:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"have a public site while keeping the repo private"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"don't rely on nuxt studio for deployment (see 2023-11-03 cloudflare outage)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Inspired from "},{"type":"element","tag":"a","props":{"href":"https://gitlab.com/pages/nuxt/-/tree/master","rel":["nofollow"]},"children":[{"type":"text","value":"gitlab nuxt example"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"steps :"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"npx nuxi@latest init pp-front -t themes/docus"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":".gitlab-ci.yml"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"git commit/push to a private github repo"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create github secret GITLAB_ACCESS_TOKEN"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create personal access token or a fine-grained personal access token"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create a synched gitlab repo, option "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"Run CI/CD for external repository"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"git commit/push to the private gitlab repo"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"static site should be deployed and running"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"mirror gitlab <-> github"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:20.docus:gitlab.md","_source":"content","_file":"20.docus/gitlab.md","_extension":"md"}