[{"data":1,"prerenderedAt":140},["Reactive",2],{"search-api":3},[4,11,19,26,34,41,48,56,63,70,77,84,92,99,106,120,127,133],{"id":5,"path":6,"dir":7,"title":8,"description":7,"keywords":9,"body":10},"content:0.index.md","/","","Home",[],"     Our vision of Docus present and future.   Our experiments with   Docus  to fit our needs\nin a very opinionated way.      S3 content backend   JSON-schema support  PDF file support  Exotic file type support  Custom nuxt layer   Nuxt Studio feedback  ",{"id":12,"path":13,"dir":14,"title":15,"description":7,"keywords":16,"body":18},"content:1.introduction:1.getting-started.md","/introduction/getting-started","introduction","Getting Started",[17],"TODO","  Getting Started  TODO   exotic format : PDF  exotic format : FEC, ifc, XML, ...  k8s deployment  vue/nuxt/content/docus/studio  painfull JS/TS stack (yarn/pnpm/bun)  static/SSR/hybrid/SPA/... mess, hard to understand",{"id":20,"path":21,"dir":7,"title":22,"description":23,"keywords":24,"body":25},"content:10.scenario:index.md","/scenario","Scenario","TODO: describe here a scenario\nwhere most of the dreamed future will be used",[],"  Scenario  TODO: describe here a scenario\nwhere most of the dreamed future will be used  steps :   go to the github repo xxx  fork it  wait for the initial deployment  go to the site  click on the nuxt studio link on the github README  edit basic content  create a new doc schema  create document from the previous doc type with the text editor  create document from the previous doc type with the visual editor",{"id":27,"path":28,"dir":29,"title":30,"description":31,"keywords":32,"body":33},"content:20.docus:bun.md","/docus/bun","docus","bun","Describe here the workflow with bun packet manager.",[],"  bun  Describe here the workflow with bun packet manager.  TODO: describe how to dev locally with the layer",{"id":35,"path":36,"dir":29,"title":37,"description":38,"keywords":39,"body":40},"content:20.docus:filter_ignore.md","/docus/filter_ignore","Filter / Ignore","YAML and JSON files are first class content payloads.",[],"  Filter / Ignore  YAML and JSON files are first class content payloads.  But YAML and JSON files can also be   opaque  assets not related to content.\nWe may think this is not a trouble to let those files be consumed as content payloads.\nBut in some cases they may be big and will probably clutter the content engine.  We would like to define which YAML/JSON should be ignored by the content engine.  We would also like to define a filter for intermediate cases where we want to keep a small part of the JSON/YAML payload as content.",{"id":42,"path":43,"dir":29,"title":44,"description":45,"keywords":46,"body":47},"content:20.docus:gitlab.md","/docus/gitlab","gitlab","Objective: Being able to deploy a docus instance on gitlab pages\nfrom a private repo and editing the whole thing trough nuxt studio.",[],"  gitlab  Objective: Being able to deploy a docus instance on gitlab pages\nfrom a private repo and editing the whole thing trough nuxt studio.  Why:   have a public site while keeping the repo private  don't rely on nuxt studio for deployment (see 2023-11-03 cloudflare outage)  Inspired from   gitlab nuxt example .  steps :    npx nuxi@latest init pp-front -t themes/docus  create   .gitlab-ci.yml  git commit/push to a private github repo  create github secret GITLAB_ACCESS_TOKEN  create personal access token or a fine-grained personal access token  create a synched gitlab repo, option   Run CI/CD for external repository  git commit/push to the private gitlab repo  static site should be deployed and running  mirror gitlab \u003C-> github",{"id":49,"path":50,"dir":29,"title":51,"description":52,"keywords":53,"body":55},"content:20.docus:json_schema.md","/docus/json_schema","JSON schema","See also JSON-schema (related to Nuxt studio):",[54],"$schema transform","  JSON schema  See also JSON-schema (  related to Nuxt studio ):  $schema transform  When defining a   new content transformer \nwe tell which extensions are involved.  It's fine to target single purpose file formats like '.xlsx' or '.csv'.\nBut it's not enough to set up a transformer for a special YAML or JSON based dialect.  We can use custom extension like   .checklist.yaml  but it would be better to detect the thoses files without modifiyng them.  For JSON/YAML special dialects it is very common to use the   $schema property .   $schema  filter  Expected new YAML/JSON schema transformer :     export   default   defineJSONSchemaTransformer  ({\n     name:   'my-dummy-transformer'  ,\n     schema:   '$schema: https://paxpar.tech/schema/mycheck/default/0'  ,\n     extensions: [\n       '.yaml'  ,\n       '.yml'  ,\n       '.json'  ,\n     ],\n     // ...\n   })\n  html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"id":57,"path":58,"dir":29,"title":59,"description":60,"keywords":61,"body":62},"content:20.docus:layer.md","/docus/layer","custom layer","TODO:",[],"  custom layer  TODO:   add pp-widgets as a private layer  describe the pitfalls  add a public layer with working code",{"id":64,"path":65,"dir":29,"title":66,"description":67,"keywords":68,"body":69},"content:20.docus:s3.md","/docus/s3","S3 bucket","See also S3 bucket for nuxt studio.",[],"  S3 bucket  See also   S3 bucket for nuxt studio .  TODO:   Explore\nthe   nuxt sources configuration \nwhich is based on   unjs/unstorage \nwhich support S3 backend.  Use a S3 bucket as a nuxt content storage  Merge/mix nuxt content storage from filesystem and S3 bucket  Fetch nuxt content data from S3 bucket at runtime",{"id":71,"path":72,"dir":29,"title":73,"description":74,"keywords":75,"body":76},"content:20.docus:single_tree.md","/docus/single_tree","Single Tree","Let's have a single tree to organize all files related to content.",[],"  Single Tree  Let's have a single tree to organize all files related to content.  Today we need to   separate  files in many folders:    /content  for files supported by nuxt content (md, json, yaml)   /public  for files not content aware (jpeg, wbep, svg, ...)  some other folders of many file types related to other part of the platform (API, business logic design docs, file samples, ...)  Simplified example of multiple trees:   /\n‚îú‚îÄ‚îÄ content/\n‚îÇ   ‚îú‚îÄ‚îÄ case1.md\n‚îÇ   ‚îî‚îÄ‚îÄ case2.md\n‚îú‚îÄ‚îÄ public/\n‚îÇ   ‚îú‚îÄ‚îÄ case1/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ check_step1.webp\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ check_step2.webp\n|   |   ‚îú‚îÄ‚îÄ sample1.pdf\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ photo.webp\n‚îÇ   ‚îî‚îÄ‚îÄ case2/\n‚îÇ       ‚îú‚îÄ‚îÄ check_step1.webp\n‚îÇ       ‚îú‚îÄ‚îÄ check_step2.webp\n|       ‚îú‚îÄ‚îÄ sample2.pdf\n‚îÇ       ‚îî‚îÄ‚îÄ photo.webp\n‚îî‚îÄ‚îÄ pp-ref-common/\n    ‚îú‚îÄ‚îÄ customer1/\n    ‚îÇ   ‚îú‚îÄ‚îÄ sample1.pdf\n    ‚îÇ   ‚îú‚îÄ‚îÄ sample2.pdf\n    ‚îÇ   ‚îú‚îÄ‚îÄ sample3.pdf\n    ‚îÇ   ‚îú‚îÄ‚îÄ poc.ipynb\n    ‚îÇ   ‚îú‚îÄ‚îÄ dummy_checklist1.yaml\n    ‚îÇ   ‚îú‚îÄ‚îÄ dummy_checklist2.yaml\n    ‚îÇ   ‚îú‚îÄ‚îÄ case1.md\n    ‚îÇ   ‚îú‚îÄ‚îÄ case1/\n    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ check_step1.webp\n    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ check_step2.webp\n    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ photo.webp\n    ‚îÇ   ‚îú‚îÄ‚îÄ blueprint.penpot.svg\n    ‚îÇ   ‚îî‚îÄ‚îÄ mvp.py\n    ‚îî‚îÄ‚îÄ customer2/\n        ‚îú‚îÄ‚îÄ sample1.pdf\n        ‚îú‚îÄ‚îÄ sample2.pdf\n        ‚îú‚îÄ‚îÄ sample3.pdf\n        ‚îú‚îÄ‚îÄ poc.ipynb\n        ‚îú‚îÄ‚îÄ dummy_checklist1.yaml\n        ‚îú‚îÄ‚îÄ dummy_checklist2.yaml\n        ‚îú‚îÄ‚îÄ case2.md\n        ‚îú‚îÄ‚îÄ case2/\n        ‚îÇ   ‚îú‚îÄ‚îÄ check_step1.webp\n        ‚îÇ   ‚îú‚îÄ‚îÄ check_step2.webp\n        ‚îÇ   ‚îî‚îÄ‚îÄ photo.webp\n        ‚îú‚îÄ‚îÄ blueprint.penpot.svg\n        ‚îî‚îÄ‚îÄ mvp.py\n  We can't keep files together.\nWe have to put articles in   content/** \nwhereas images and exotic files must be in   public/** .  We would like to set the Nuxt content source directly to   pp-ref-common/ \nwhere we can easily tell which files are articles/images\nor be ignored.  Maybe a set of rules telling how to traverse such a tree,\nwhat to keep, what to ignore.\nThose rules would be applied on each Nuxt generation.",{"id":78,"path":79,"dir":7,"title":80,"description":81,"keywords":82,"body":83},"content:30.nuxt_studio:0.index.md","/nuxt_studio","Feedback","Here are some pitfalls and wishes from our Nuxt Studio experience.",[],"  Feedback  Here are some pitfalls and wishes from our Nuxt Studio experience.",{"id":85,"path":86,"dir":87,"title":88,"description":89,"keywords":90,"body":91},"content:30.nuxt_studio:escape.md","/nuxt_studio/escape","nuxt_studio","escape key","While editing a file, pressing the escape key move up one level on editor/browser hierarchy.",[],"  escape key  While editing a file, pressing the escape key move up one level on editor/browser hierarchy.  In the editor this beheviour is misleading if you use mutiple cursors.\nThe common way to exit multiple cursors is also pressing the escape key.  To be sure to exit the multiple cursors, I tend to press the escape key even if I'm not in multiple cursor, resulting in exiting the editor.  We may restrict the escape key behaviour to file browser and not in the editor.",{"id":93,"path":94,"dir":87,"title":95,"description":96,"keywords":97,"body":98},"content:30.nuxt_studio:fork_easy.md","/nuxt_studio/fork_easy","Easy fork","On a single click, fork an existing github project and get :",[],"  Easy fork  On a single click, fork an existing github project and get :   a direct link from the README to nuxt studio  a running app via github pages  a new unique set of ID/API_KEY (generated on fork)  a new nuxt studio team  an auto-generated link to join the new nuxt studio team",{"id":100,"path":101,"dir":87,"title":102,"description":103,"keywords":104,"body":105},"content:30.nuxt_studio:git.md","/nuxt_studio/git","git","We may use a simple git repo as Nuxt Studio source backend.",[],"  git  We may use a simple git repo as Nuxt Studio source backend.  Currently Nuxt Studio uses github as its source backend.  We will lose a lot of feature specific to github.  This will open a lot of new usecases where github is not an option :   full open source git forge (gitlab, ...)  lightweight self hosted option (gitea, ...)  sovereign hosting  GAFAM/BATIX free hosting  private hosting for security  edge hosting for speed (huge git repo)  lower price  special free tier feature (gitlab private repo with public pages, ...)",{"id":107,"path":108,"dir":87,"title":109,"description":110,"keywords":111,"body":119},"content:30.nuxt_studio:json_schema.md","/nuxt_studio/json_schema","JSON-schema","Many features related to JSON-schema (some related to docus):",[112,113,114,115,116,117,118],"YAML file linter","front-matter schema","front-matter linter","YAML file visual editing","front matter visual editing","YAML file custom visual editing","front-matter custom visual editing","  JSON-schema  Many features related to JSON-schema (  some related to docus ):  YAML file linter  Use the   redhat YAML vscode extension  while editing YAML file content.\nIt lets you validate your JSON or YAML content against a predefined   schema .  It's a life saver when you deal with strongly typed JSON/YAML content.  With a single first comment pointing to your schema, the editor will check if your content is valid :     # yaml-language-server: $schema=https://paxpar.gitlab.io/schemas/checklist-2.0.schema.json\n   $schema  :   https://paxpar.gitlab.io/schemas/checklist-2.0.schema.json\n   name  :   Ordre d'intervention EDF\n   desc  :   Liste de v√©rification appliqu√©e lors de la saisie d'un ordre d'intervention\n   tags  :\n     -   atelier\n   owner  :\n     signature_pubkey  :   default\n  The schema URL could also be relative to the current project\nwhere schemas would be stored in   /public/schemas  :     # yaml-language-server: $schema=/schemas/checklist-2.0.schema.json\n   $schema  :   https://paxpar.gitlab.io/schemas/checklist-2.0.schema.json\n   name  :   Ordre d'intervention EDF\n   desc  :   Liste de v√©rification appliqu√©e lors de la saisie d'un ordre d'intervention\n   tags  :\n     -   atelier\n   owner  :\n     signature_pubkey  :   default\n  front-matter schema  Supporting a   $schema  native property\nin the   front matter \nwill provide a kind of strong typing of document metadata.     ---\n   $schema  :   https://paxpar.tech/schema/mycheck/default/0\n   name  :   Ordre d'intervention EDF\n   desc  :   Liste de v√©rification appliqu√©e lors de la saisie d'un ordre d'intervention\n   tags  :\n     -   atelier\n   owner  :\n     signature_pubkey  :   default\n   ---\n   \n   # My document\n   \n   Lorem ipsum ...\n  front-matter linter  Replicate the behaviour of the   redhat YAML vscode extension .\nIt lets you validate your JSON or YAML content against a predefined   schema .  Same feature as YAML file linter but restricted to the front-matter.  YAML file visual editing  TODO: describe/show our use of   JSON-editor  front matter visual editing  TODO: describe/show our use of   JSON-editor  YAML file custom visual editing  We may define visual component to edit typed YAML file.\nThe component will be registered to handle a given schema\nand will produce the JSON/YAML payload.  TODO: put an example here from pp  front-matter custom visual editing  We may define visual component to edit typed front matter.\nThe component will be registered to handle a given schema\nand will produce the JSON/YAML payload.  TODO: put an example here from pp  html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"id":121,"path":122,"dir":87,"title":123,"description":124,"keywords":125,"body":126},"content:30.nuxt_studio:runtime_use.md","/nuxt_studio/runtime_use","runtime use","Use Nuxt Studio to edit live-content.",[],"  runtime use  Use Nuxt Studio to edit live-content.  Think of a webapp where some pages fetch data from live sources (mostly YAML/JSON¬ß/MD file in a S3 bucket).  Being able to edit those sources with Nuxt Studio without a full or partial site generation (when   hybrid rendering  is not an option).",{"id":128,"path":129,"dir":87,"title":66,"description":130,"keywords":131,"body":132},"content:30.nuxt_studio:s3.md","/nuxt_studio/s3","See also S3 bucket for docus.",[],"  S3 bucket  See also   S3 bucket for docus .  We may use a S3 bucket as Nuxt Studio source backend.  Currently Nuxt Studio uses github as its source backend.  Editing files in Nuxt Studio will result in direct S3 file operations.  s3 is better than git for   live   updates.  git is better than s3 for   traced   updates.",{"id":134,"path":135,"dir":7,"title":136,"description":137,"keywords":138,"body":139},"content:80.todo.md","/todo","Todo","Log snippet when a YAML file is not valid :",[],"  Log snippet when a YAML file is not valid :     at executor (node_modules/unified/lib/index.js:901:20)\n  at Function.run (node_modules/unified/lib/index.js:884:19)\n  at executor (node_modules/unified/lib/index.js:737:12)\n  at new Promise (\u003Canonymous>)\n  at Function.process (node_modules/unified/lib/index.js:720:47)\n  at parseMarkdown (.nuxt/prerender/chunks/nitro/nitro-prerenderer.mjs:7887:41)\n  at async Object.parse (.nuxt/prerender/chunks/nitro/nitro-prerenderer.mjs:7985:20)\n  at async transformContent (.nuxt/prerender/chunks/nitro/nitro-prerenderer.mjs:8134:18)\n  at async parseContent (.nuxt/prerender/chunks/nitro/nitro-prerenderer.mjs:8610:18)\n  at async .nuxt/prerender/chunks/nitro/nitro-prerenderer.mjs:8580:22\n[error] [nitro] [unhandledRejection] bad indentation of a mapping entry (4:237)\n 1 |  ... \n 2 |  ... \n 3 |  ... \n 4 |  ...  au sein d'une m√™me entreprise :\n-----------------------------------------^\n 5 |  ... \n 6 |  ... \n  \n  1 |  ...\n  2 |  ...\n  3 |  ...\n  4 |  ...  au sein d'une m√™me entreprise :\n  -----------------------------------------^\n  5 |  ...\n  6 |  ...\n  at generateError (node_modules/js-yaml/dist/js-yaml.mjs:1273:10)\n  at throwError (node_modules/js-yaml/dist/js-yaml.mjs:1277:9)\n  at readBlockMapping (node_modules/js-yaml/dist/js-yaml.mjs:2272:7)\n  at composeNode (node_modules/js-yaml/dist/js-yaml.mjs:2531:12)\n  at readBlockSequence (node_modules/js-yaml/dist/js-yaml.mjs:2098:5)\n  at composeNode (node_modules/js-yaml/dist/js-yaml.mjs:2530:12)\n  at readBlockMapping (node_modules/js-yaml/dist/js-yaml.mjs:2254:11)\n  at composeNode (node_modules/js-yaml/dist/js-yaml.mjs:2531:12)\n  at readDocument (node_modules/js-yaml/dist/js-yaml.mjs:2715:3)\n  at loadDocuments (node_modules/js-yaml/dist/js-yaml.mjs:2778:5)\n  at Object.load$1 [as load] (node_modules/js-yaml/dist/js-yaml.mjs:2804:19)\n  Another  log snippet when a YAML file is not valid :   ‚Ñπ Vite server warmed up in 8170ms                                                                                     11:35:01 AM\n‚Ñπ ‚ú® optimized dependencies changed. reloading                                                                        11:35:01 AM\n‚Ñπ Vite client warmed up in 10346ms                                                                                    11:35:01 AM\n‚úî Nitro built in 2447 ms                                                                                        nitro 11:35:02 AM\nüê£üìÑ custom transformer for checkresult\nüê£üìÑ custom transformer for PDF\nüê£üìÑ custom transformer for ignored content\n[nitro] [unhandledRejection] YAMLException: can not read a block mapping entry; a multiline key may not be an implicit key (12:1)\n\n  9 |     - valerie: Puis-je accepter ...\n 10 | \n 11 | Voyons tout d'abord ensemble qu ...\n 12 | \n------^\n    at generateError (file:///home/philippe/src/pp-front4/node_modules/js-yaml/dist/js-yaml.mjs:1273:10)\n    at throwError (file:///home/philippe/src/pp-front4/node_modules/js-yaml/dist/js-yaml.mjs:1277:9)\n    at readBlockMapping (file:///home/philippe/src/pp-front4/node_modules/js-yaml/dist/js-yaml.mjs:2235:9)\n    at composeNode (file:///home/philippe/src/pp-front4/node_modules/js-yaml/dist/js-yaml.mjs:2531:12)\n    at readDocument (file:///home/philippe/src/pp-front4/node_modules/js-yaml/dist/js-yaml.mjs:2715:3)\n    at loadDocuments (file:///home/philippe/src/pp-front4/node_modules/js-yaml/dist/js-yaml.mjs:2778:5)\n    at Object.load$1 [as load] (file:///home/philippe/src/pp-front4/node_modules/js-yaml/dist/js-yaml.mjs:2804:19)\n    at parseFrontMatter (file:///home/philippe/src/pp-front4/node_modules/remark-mdc/dist/index.mjs:37:21)\n    at getNodeData (file:///home/philippe/src/pp-front4/node_modules/remark-mdc/dist/index.mjs:1853:20)\n    at bindNode (file:///home/philippe/src/pp-front4/node_modules/remark-mdc/dist/index.mjs:1838:23) {\n  reason: 'can not read a block mapping entry; a multiline key may not be an implicit key',\n  mark: {\n    name: null,\n    buffer: '\\n' +\n      'animate: true\\n' +\n      'conversation:\\n' +\n      `    - valerie: \"En tant que particulier ou entreprise... Nous recevons de plus en plus de documents dans un format d√©mat√©rial\nis√© via notre boite e-mail personnelle, pro, et √©galement d'un service √† un autre au sein d'une m√™me entreprise :\"\\n` +\n      '    - valerie: Peut-on avoir confiance en ces documents ?\\n' +\n      '    - valerie: Recevoir ces documents d√©mat√©rialis√©s est-il un gage de fiabilit√© comparativement √† un document en version pap\nier ?\\n' +\n      '    - valerie: Nous allons voir 3 cas concrets de factures.\\n' +\n      '    - valerie: Puis-je avoir confiance en 2 de ces factures et les r√©gler en toute confiance ?\\n' +\n      '    - valerie: Puis-je accepter, sans me m√©fier, une facture EDF comme justificatif de domicile ?\\n' +\n      '\\n' +\n      \"Voyons tout d'abord ensemble quels sont les risques auxquels je m'expose.\\n\",\n    position: 786,\n    line: 11,\n    column: 0,\n    snippet: '  9 |     - valerie: Puis-je accepter ...\\n' +\n      ' 10 | \\n' +\n      \" 11 | Voyons tout d'abord ensemble qu ...\\n\" +\n      ' 12 | \\n' +\n      '------^'\n  }\n}\n",1700233242442]